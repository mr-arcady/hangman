<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Hangman: Arcade</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* --- THEME ENGINE --- */
        :root {
            --bg-primary: #111827; --bg-secondary: #1f2937;
            --text-primary: #ffffff; --text-secondary: #9ca3af;
            --accent-success: #22c55e; --accent-fail: #ef4444;
            --border-color: #374151;
        }
        body.light-mode {
            --bg-primary: #f3f4f6; --bg-secondary: #ffffff;
            --text-primary: #111827; --text-secondary: #4b5563;
            --accent-success: #16a34a; --accent-fail: #dc2626;
            --border-color: #d1d5db;
        }
        body.high-contrast {
            --accent-success: #2563eb !important; /* Blue */
            --accent-fail: #ea580c !important; /* Orange */
            font-weight: 700;
        }
        
        /* Neutralize colored buttons in Accessibility Mode */
        body.high-contrast .neutral-in-hc {
            border-color: var(--border-color) !important;
            color: var(--text-primary) !important;
            background-color: var(--bg-secondary) !important;
        }
        body.high-contrast .neutral-in-hc:hover {
            background-color: var(--bg-primary) !important;
        }

        .theme-bg { background-color: var(--bg-primary); }
        .theme-panel { background-color: var(--bg-secondary); }
        .theme-text { color: var(--text-primary); }
        .theme-text-sub { color: var(--text-secondary); }
        .theme-success { color: var(--accent-success); }
        .theme-fail { color: var(--accent-fail); }
        .theme-border { border-color: var(--border-color); }
        
        .hidden { display: none !important; }
        .btn-press:active { transform: scale(0.95); }
        .disabled-toggle { opacity: 0.5; pointer-events: none; }
        
        #settings-menu { transition: transform 0.3s ease-in-out; }
        .menu-open { transform: translateX(0) !important; }
        .menu-closed { transform: translateX(100%); }
    </style>
</head>
<body class="theme-bg theme-text font-sans min-h-screen flex flex-col items-center justify-center transition-colors duration-300">

    <div class="absolute top-4 right-4 z-50">
        <button onclick="toggleMenu()" class="p-2 rounded theme-panel theme-border border shadow-lg text-2xl">☰</button>
    </div>

    <div id="settings-menu" class="fixed inset-0 z-40 bg-black/50 backdrop-blur-sm flex justify-end menu-closed">
        <div class="theme-panel w-80 h-full p-6 shadow-2xl border-l theme-border flex flex-col">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-xl font-bold uppercase tracking-widest theme-text">Settings</h2>
                <button onclick="toggleMenu()" class="text-2xl theme-text">✕</button>
            </div>
            <div class="space-y-6 flex-1">
                <div class="flex justify-between items-center">
                    <span class="font-bold theme-text-sub">Match System</span>
                    <button onclick="toggleTheme('system')" id="btn-system" class="w-12 h-6 rounded-full bg-gray-600 relative transition"><div class="w-4 h-4 bg-white rounded-full absolute top-1 left-1 transition-all"></div></button>
                </div>
                <div class="flex justify-between items-center" id="row-light">
                    <span class="font-bold theme-text-sub">Light Mode</span>
                    <button onclick="toggleTheme('light')" id="btn-light" class="w-12 h-6 rounded-full bg-gray-600 relative transition"><div class="w-4 h-4 bg-white rounded-full absolute top-1 left-1 transition-all"></div></button>
                </div>
                <div class="flex justify-between items-center">
                    <span class="font-bold theme-text-sub">Accessibility</span>
                    <button onclick="toggleTheme('contrast')" id="btn-contrast" class="w-12 h-6 rounded-full bg-gray-600 relative transition"><div class="w-4 h-4 bg-white rounded-full absolute top-1 left-1 transition-all"></div></button>
                </div>
                <hr class="theme-border opacity-50">
                <button onclick="showHelp()" class="w-full p-3 rounded theme-border border font-bold theme-text uppercase tracking-widest hover:opacity-70">How to Play</button>
            </div>
        </div>
    </div>

    <div id="modal-help" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur p-4">
        <div class="theme-panel p-8 rounded-2xl max-w-md w-full border theme-border shadow-2xl relative">
            <button onclick="document.getElementById('modal-help').classList.add('hidden')" class="absolute top-4 right-4 text-2xl theme-text opacity-50 hover:opacity-100">✕</button>
            <h2 class="text-2xl font-bold mb-4 theme-success uppercase italic">Welcome to Hangman</h2>
            <div class="space-y-4 theme-text-sub text-sm leading-relaxed">
                <p>This is the ultimate word-guessing arcade.</p>
                <ul class="list-disc pl-5 space-y-2">
                    <li><strong class="theme-text">Pro Mode (Solo):</strong> Challenge our massive database of films, books, and art.</li>
                    <li><strong class="theme-text">PvP Mode (Multiplayer):</strong> Create a room and challenge friends. One player sets a word, others guess.</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="w-full max-w-md p-6 text-center">
        <h1 class="text-6xl font-black mb-2 theme-success tracking-tighter italic uppercase drop-shadow-lg transition-colors">Hangman</h1>
        <p class="text-sm theme-text-sub uppercase tracking-[0.4em] mb-12 font-bold">Online Arcade</p>

        <div class="space-y-6">
            <a href="https://arcady-hangman-pro.vercel.app/" class="neutral-in-hc block w-full p-6 rounded-xl theme-panel border-2 border-red-500 hover:bg-red-900/10 transition group shadow-xl text-red-500">
                <div class="text-4xl font-black mb-1">PRO</div>
                <div class="text-[10px] theme-text-sub uppercase tracking-widest font-bold">Face the Hangman</div>
            </a>

            <a href="https://arcady-hangman-pvp.vercel.app/" class="neutral-in-hc block w-full p-6 rounded-xl theme-panel border-2 border-blue-500 hover:bg-blue-900/10 transition group shadow-xl text-blue-500">
                <div class="text-4xl font-black mb-1">PVP</div>
                <div class="text-[10px] theme-text-sub uppercase tracking-widest font-bold">Play with Friends</div>
            </a>
        </div>
    </div>

    <script>
        function initTheme() {
            const useSystem = localStorage.getItem('h_system') === 'true';
            const isContrast = localStorage.getItem('h_contrast') === 'true';
            
            if (useSystem) {
                const systemLight = window.matchMedia('(prefers-color-scheme: light)').matches;
                if (systemLight) document.body.classList.add('light-mode');
                else document.body.classList.remove('light-mode');
            } else {
                const isLight = localStorage.getItem('h_theme') === 'light';
                if (isLight) document.body.classList.add('light-mode');
                else document.body.classList.remove('light-mode');
            }

            if(isContrast) document.body.classList.add('high-contrast');
            updateToggles();
        }

        window.matchMedia('(prefers-color-scheme: light)').addEventListener('change', e => {
            if (localStorage.getItem('h_system') === 'true') {
                if (e.matches) document.body.classList.add('light-mode');
                else document.body.classList.remove('light-mode');
                updateToggles();
            }
        });

        function toggleTheme(type) {
            if (type === 'system') {
                const current = localStorage.getItem('h_system') === 'true';
                localStorage.setItem('h_system', !current);
                initTheme();
            } else if (type === 'light') {
                if (localStorage.getItem('h_system') === 'true') return;
                document.body.classList.toggle('light-mode');
                localStorage.setItem('h_theme', document.body.classList.contains('light-mode') ? 'light' : 'dark');
                updateToggles();
            } else {
                document.body.classList.toggle('high-contrast');
                localStorage.setItem('h_contrast', document.body.classList.contains('high-contrast'));
                updateToggles();
            }
        }

        function updateToggles() {
            const isLight = document.body.classList.contains('light-mode');
            const isContrast = document.body.classList.contains('high-contrast');
            const useSystem = localStorage.getItem('h_system') === 'true';
            
            const lightBtn = document.getElementById('btn-light').firstElementChild;
            const contrastBtn = document.getElementById('btn-contrast').firstElementChild;
            const systemBtn = document.getElementById('btn-system').firstElementChild;
            
            lightBtn.style.transform = isLight ? 'translateX(24px)' : 'translateX(0)';
            document.getElementById('btn-light').style.backgroundColor = isLight ? '#22c55e' : '#4b5563';
            
            const lightRow = document.getElementById('btn-light');
            if (useSystem) lightRow.classList.add('disabled-toggle', 'opacity-50', 'cursor-not-allowed');
            else lightRow.classList.remove('disabled-toggle', 'opacity-50', 'cursor-not-allowed');

            systemBtn.style.transform = useSystem ? 'translateX(24px)' : 'translateX(0)';
            document.getElementById('btn-system').style.backgroundColor = useSystem ? '#22c55e' : '#4b5563';

            contrastBtn.style.transform = isContrast ? 'translateX(24px)' : 'translateX(0)';
            document.getElementById('btn-contrast').style.backgroundColor = isContrast ? '#2563eb' : '#4b5563';
        }

        function toggleMenu() {
            const menu = document.getElementById('settings-menu');
            if(menu.classList.contains('menu-closed')) {
                menu.classList.remove('menu-closed');
                menu.classList.add('menu-open');
            } else {
                menu.classList.remove('menu-open');
                menu.classList.add('menu-closed');
            }
        }

        function showHelp() {
            toggleMenu();
            document.getElementById('modal-help').classList.remove('hidden');
        }

        initTheme();
    </script>
</body>
</html>
